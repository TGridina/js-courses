<!DOCTYPE html>
<html>
<body>
    <script>
        let str = prompt("Enter string:");
        while (str === null) {
            str = prompt("String is not entered. Please, enter string again:");
        }

        alert(`${isPalindrome(str) ? "This is palindrome" : "This is not palindrome"}`);

        function isPalindrome(inputString, isClearString = false) {
            console.log(`string ${inputString}, isClear=${isClearString}`)
            if (!isClearString)
            {
                inputString = inputString.replaceAll(/[^a-zа-щэ-яыё]/gi, '').toLowerCase().replaceAll("ё", "е")
                console.log(`clear string ${inputString}`)
            }

            if (inputString.length === 0 || inputString.length === 1)
                return true;

            if (inputString[0] === inputString[inputString.length - 1])
                return isPalindrome(inputString.substring(1, inputString.length - 1), true);

            return false;
        }
    </script>
</body>
</html>
